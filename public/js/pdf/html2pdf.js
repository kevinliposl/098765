
function html2pdf(d,b,h){var c=b.canvas;if(!c){alert("jsPDF canvas plugin not installed");return}c.pdf=b;b.annotations={_nameMap:[],createAnnotation:function(j,m){var i=b.context2d._wrapX(m.left);var o=b.context2d._wrapY(m.top);var n=b.context2d._page(m.top);var l;var k=j.indexOf("#");if(k>=0){l={name:j.substring(k+1)}}else{l={url:j}}b.link(i,o,m.right-m.left,m.bottom-m.top,l)},setName:function(j,k){var i=b.context2d._wrapX(k.left);var m=b.context2d._wrapY(k.top);var l=b.context2d._page(k.top);this._nameMap[j]={page:l,x:i,y:m}}};c.annotations=b.annotations;b.context2d._pageBreakAt=function(i){this.pageBreaks.push(i)};b.context2d._gotoPage=function(i){while(b.internal.getNumberOfPages()<i){b.addPage()}b.setPage(i)};if(typeof d==="string"){d=d.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var e=document.createElement("iframe");document.body.appendChild(e);var f;f=e.contentDocument;if(f==undefined||f==null){f=e.contentWindow.document}f.open();f.write(d);f.close();var g=html2canvas(f.body,{canvas:c,onrendered:function(i){if(h){if(e){e.parentElement.removeChild(e)}h(b)}}})}else{var a=d;var g=html2canvas(a,{canvas:c,onrendered:function(i){if(h){if(e){e.parentElement.removeChild(e)}h(b)}}})}};