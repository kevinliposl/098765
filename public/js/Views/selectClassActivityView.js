
$("#form-courses").change(function(){if($("#form-courses").val()==="-1"){$("#failed-form-courses").attr("data-notify-msg","<i class=icon-remove-sign></i> Curso inválido. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-courses"));return false}else{var a={appointment:$("#form-courses").val()};document.getElementById("form-student").options.length=0;document.getElementById("form-activity").options.length=0;$("#form-activity").append($("<option></option>").attr("value","-1").text("Seleccione una Actividad"));$.post("?controller=ClassActivity&action=selectStudentClassActivity",a,function(c){$("#form-student").append($("<option></option>").attr("value","-1").text("Seleccione un Estudiante"));for(var b=0;b<c.length;b++){$("#form-student").append($("<option></option>").attr("value",c[b].identification).text(c[b].name))}$("#form-student").selectpicker("refresh")},"json")}});$("#form-student").change(function(){if($("#form-courses").val()==="-1"){$("#failed-form-courses").attr("data-notify-msg","<i class=icon-remove-sign></i> Curso inválido. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-courses"));return false}else{if($("#form-student").val()==="-1"){$("#failed-form-student").attr("data-notify-msg","<i class=icon-remove-sign></i> Estudiante inválido. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-student"));return false}else{var a={appointment:$("#form-courses").val(),identification:$("#form-student").val()};document.getElementById("form-activity").options.length=0;$.post("?controller=ClassActivity&action=selectRecordStudentClassActivity",a,function(c){$("#form-activity").append($("<option></option>").attr("value","-1").text("Seleccione una Actividad"));for(var b=0;b<c.length;b++){$("#form-activity").append($("<option></option>").attr("value",c[b].consecutive_class).text(c[b].date))}$("#form-activity").selectpicker("refresh")},"json")}}});$("#form-activity").change(function(){if($("#form-courses").val()==="-1"){$("#failed-form-courses").attr("data-notify-msg","<i class=icon-remove-sign></i> Curso inválido. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-courses"));return false}else{if($("#form-student").val()==="-1"){$("#failed-form-student").attr("data-notify-msg","<i class=icon-remove-sign></i> Estudiante inválido. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-student"));return false}else{if($("#form-activity").val()==="-1"){$("#failed-form-activity").attr("data-notify-msg","<i class=icon-remove-sign></i> Actividad de clase inválida. Seleccione e intente de nuevo!");SEMICOLON.widget.notifications($("#failed-form-activity"));return false}else{var a={appointment:$("#form-courses").val(),identification:$("#form-student").val(),consecutive:$("#form-activity").val()};$.post("?controller=ClassActivity&action=selectClassActivity",a,function(c){if(c.consecutive_class){$("#form-consecutive-table").html(c.consecutive_class);$("#form-date-table").html(c.date);if(c.assistance==="P"){$("#form-typeA-table").html("Puntual")}else{if(c.assistance==="I"){$("#form-typeA-table").html("Asuncia Injustificada")}else{$("#form-typeA-table").html("Ausencia Justificada")}}$("#form-observation-table").html(c.observation);var b={appointment:$("#form-courses").val(),identification:$("#form-student").val(),consecutive:c.consecutive_class};$.post("?controller=ClassActivity&action=selectRecordContentClassActivity",b,function(j){var g=document.getElementById("table-contents");g.innerHTML="";for(var f=0;f<j.length;f++){var h=g.insertRow(0);var e=h.insertCell(0);var d=h.insertCell(1);e.innerHTML="Contenido "+(j.length-f);d.innerHTML=j[f].content}},"json");SEMICOLON.widget.notifications($("#success"))}else{$("#form-consecutive-table").html("");$("#form-date-table").html("");$("#form-typeA-table").html("");$("#form-observation-table").html("");$("#warning").attr({"data-notify-type":"warning","data-notify-msg":"<i class=icon-warning-sign></i> Operacion Incompleta, intente de nuevo!","data-notify-position":"bottom-full-width"});SEMICOLON.widget.notifications($("#warning"))}},"json")}}}});