
var days={1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sabado",7:"Domingo"};var colorClass={0:"info",1:"success",2:"danger",3:"warning"};function getRandomArbitrary(b,a){return Math.floor(Math.random()*(a-b))+b}$("#form-semester").change(function(){var c={ID_Semester:$("#form-semester").val()};$.post("?controller=Schedule&action=selectWithSchedule",c,function(e){$("#form-courses").removeAttr("disabled");$("#form-courses").empty();$("#form-courses").append($("<option></option>").attr("value",-1).text("Seleccione un Curso"));for(var d=0;d<e.length;d++){$("#form-courses").append($("<option></option>").attr("value",e[d].ID).text(e[d].initials+" | "+e[d].name))}$("#form-courses").selectpicker("refresh")},"json");for(var b=1;b<=7;b++){for(var a=7;a<=19;a++){$("#"+days[b]+""+a).removeClass();$("#"+days[b]+""+a).text("")}}$.post("?controller=Schedule&action=select",c,function(g){for(var f=0;f<g.length;f++){var d=getRandomArbitrary(0,3);for(var e=parseInt(g[f].start);e<=parseInt(g[f].end);e++){$("#"+g[f].day+""+e).addClass(colorClass[d]);$("#"+g[f].day+""+e).text(g[f].initials+" | "+g[f].name)}}},"json")});$("#form-courses").change(function(){$("#form-hour-end").removeAttr("disabled");$("#form-hour-init").removeAttr("disabled")});$("#form-hour-init").change(function(){if($("#form-hour-init").val()!=="-1"&&$("#form-hour-end").val()!=="-1"){$("#form-days").removeAttr("disabled");$("#form-days").selectpicker("refresh")}});$("#form-hour-end").change(function(){if($("#form-hour-init").val()!=="-1"&&$("#form-hour-end").val()!=="-1"){$("#form-days").removeAttr("disabled");$("#form-days").selectpicker("refresh")}});$("#form-submit").click(function(){$("#form-submity").attr("disabled","disabled");$("#form-close").attr("disabled","disabled");SEMICOLON.widget.notifications($("#wait"));var a={ID:$("#form-courses").val(),start:$("#form-hour-init").val(),end:$("#form-hour-end").val(),day:$("#form-days").val()};$.post("?controller=Schedule&action=insert",a,function(d){if(d.result==="1"){var b=getRandomArbitrary(0,3);for(var c=parseInt($("#form-hour-init").val());c<=parseInt($("#form-hour-end").val());c++){$("#"+$("#form-days").val()+c).addClass(colorClass[b]);$("#"+$("#form-days").val()+c).text($("#form-courses option:selected").text().trim())}SEMICOLON.widget.notifications($("#success"))}else{SEMICOLON.widget.notifications($("#warning"));$("#form-submity").removeAttr("disabled");$("#form-close").removeAttr("disabled")}},"json")});